<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Etch-a-Sketch</title>
</head>
<body>
    <div class="title-bar">
        <button id="set-size">Set Grid Size</button>
    </div>
    <div class="main-container">
        <!-- <div class="square">

        </div> -->
    </div>
    <script>
        let size = null;
        const numRows = size;
        const numCols = size;
        const sizeButton = document.querySelector("#set-size");
        const mainContainer = document.querySelector(".main-container");
        sizeButton.addEventListener('click', chooseSize);
        function chooseSize (){
            size = prompt("Enter number of squares per side", "16");
            size = parseInt(size);
            paintGrid(size);
        }
        function clearGrid(){
            while (mainContainer.firstChild){
                mainContainer.removeChild(mainContainer.firstChild);
            }
        }
        function paintGrid(size){
            clearGrid();
            for (let i=0; i<size; i++){
                let column = document.createElement("div");
                column.classList.add("column");
                for (let j=0; j<size; j++){
                    let row = document.createElement("div");
                    row.classList.add("row");
                    // uncomment below for gradual darkening
                    // row.style.backgroundColor = "rgba(0,0,0,0)";
                    row.addEventListener('mouseenter', ()=>{
                        // assignment - just make the div black (apply a class with a CSS style)
                        row.classList.add("hover");

                        // extra credit 1 - create random rgb color for the div background
                        // let red = Math.floor(Math.random() * 255);
                        // let green = Math.floor(Math.random() * 255);
                        // let blue = Math.floor(Math.random() * 255);
                        // row.style.backgroundColor = "rgb("+red+","+green+","+blue+")";
                        // console.log(row.style.backgroundColor)
                        
                        // extra credit 2 - gradual darkening
                        // const rgbaBackground = row.style.backgroundColor;
                        // let alpha = parseFloat(rgbaBackground.split(",")[3]);
                        // console.log(rgbaBackground, alpha)
                        // if (alpha<1){
                        //     alpha+=0.1;
                        // } else {
                        //     alpha = 1;
                        // }
                        // row.style.backgroundColor = "rgba(0,0,0,"+alpha+")";
                    })
                    // let the div stay colored for a half second, then blank again
                    // not in the assignment, but I think it's cool...
                    // row.addEventListener('mouseleave', ()=>{
                    //     setTimeout(function() {
                    //         // row.classList.remove("hover");
                    //         row.style.backgroundColor = "";
                    //     },500);
                    // });
                    column.appendChild(row);
                }
            mainContainer.appendChild(column);
            }
        }
    </script>
</body>
</html>